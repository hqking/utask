* shared resource protection
* add pending queue